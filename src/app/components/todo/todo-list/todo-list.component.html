<div class="todo-app">
  <app-navbar></app-navbar>

  <div class="container">
    <div class="todo-header">
      <button 
        class="btn btn-primary create-btn" 
        (click)="toggleCreateForm()"
      >
        <span class="btn-icon">+</span> Create Todo
      </button>
    </div>

    <app-todo-form 
      *ngIf="showCreateForm" 
      (todoCreated)="onTodoCreated()"
      (cancelled)="toggleCreateForm()"
    ></app-todo-form>

    <div class="todo-table-container">
      <table class="todo-table">
        <thead>
          <tr>
            <th>Description</th>
            <th>Target Date</th>
            <th>Completed</th>
            <th>Update</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let todo of todos" class="todo-row">
            <td class="description-cell" [class.completed]="todo.completed">
              {{ todo.description }}
            </td>
            <td class="date-cell">
              {{ todo.targetDate | date:'MMM d, yyyy' }}
            </td>
            <td class="checkbox-cell">
              <input 
                type="checkbox" 
                [checked]="todo.completed"
                (change)="toggleComplete(todo.id!)"
                class="todo-checkbox"
              >
            </td>
            <td class="action-cell">
              <button 
                class="btn btn-success btn-sm"
                (click)="updateTodo(todo)"
              >
                <span class="btn-icon">‚úè</span> Update
              </button>
            </td>
            <td class="action-cell">
              <button 
                class="btn btn-danger btn-sm"
                (click)="deleteTodo(todo.id!)"
              >
                <span class="btn-icon">üóë</span> Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <footer class="app-footer">
    <p>All Rights Reserved ¬© 2020 Gaetan Bloch</p>
  </footer>
</div>